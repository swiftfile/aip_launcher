
<launch>
  <!-- Params -->
  <arg name="launch_driver" default="true" />
  <arg name="use_kvaser" default="false" />
  <arg name="kvaser_hardware_id" default="12345" />
  <arg name="kvaser_circuit_id" default="0" />
  <arg name="use_socketcan" default="false" />
  <arg name="socketcan_device" default="can0" />
  <arg name="input/frame" default="can_rx" />
  <arg name="output/objects" default="objects" />
  <arg name="topic_type" default="TrackedObject" description="choose among RadarTrack, TrackedObject, and DetectedObject"/>

  <group if="$(var use_kvaser)">
    <include file="$(find-pkg-share kvaser_interface)/launch/kvaser_bridge.launch.xml">
      <arg name="hardware_id" value="$(var kvaser_hardware_id)" />
      <arg name="circuit_id" value="$(var kvaser_circuit_id)" />
      <arg name="bit_rate" value="500000" />
    </include>
  </group>
  <group if="$(var use_socketcan)">
    <include file="$(find-pkg-share ros2_socketcan)/launch/socket_can_bridge.launch.xml">
      <arg name="interface" value="$(var socketcan_device)" />
    </include>

  <include file="$(find-pkg-share pe_ars408_ros)/launch/continental_ars408.launch.xml" if="$(var launch_driver)">
    <arg name="input/frame" value="$(var input/frame)" />
    <arg name="output/objects" value="$(var output/objects)" />
    <arg name="topic_type" value="$(var topic_type)"/>
  </include>
</launch>
